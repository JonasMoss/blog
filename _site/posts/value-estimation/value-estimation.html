<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jonas Moss">

<title>Jonas Moss’ blog - Estimating value from pairwise comparisons</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean",
  "openSidebar": false
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jonas Moss’ blog</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/JonasMoss"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Estimating value from pairwise comparisons</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">effective altruism</div>
                <div class="quarto-category">statistics</div>
                <div class="quarto-category">psychometrics</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Jonas Moss </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Oct 5, 2022</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-1_57bd583d89e2074d2a1c37a5ab70589d">

</div>
<p>How can you estimate the value of research output? You could use pairwise comparisons, e.g., to ask specialists how much more valuable Darwin’s <em>The Original of Species</em> is than Dembski’s <a href="https://en.wikipedia.org/wiki/Intelligent_Design_(book)"><em>Intelligent Design</em></a>. Then you can use these relative valuations to estimate absolute valuations.</p>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ol type="1">
<li><p>Estimating values is hard. One way to elicit value estimates is ask researchers to compare two different items <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, asking how much better <span class="math inline">\(A\)</span> is than <span class="math inline">\(B\)</span>. This makes the problem more concrete than just asking “what is the value of <span class="math inline">\(A\)</span>?”. The Quantified Uncertainty Institute has made an app for doing this kind of thing, described <a href="https://forum.effectivealtruism.org/posts/9hQFfmbEiAoodstDA/simple-comparison-polling-to-create-utility-functions">here</a>.</p></li>
<li><p>Nuño Sempere had a <a href="https://forum.effectivealtruism.org/posts/hrdxf5qdKmCZNWTvs/valuing-research-works-by-eliciting-comparisons-from-ea">post</a> about eliciting comparisons of research value from <span class="math inline">\(6\)</span> effective altruism researchers. <a href="https://forum.effectivealtruism.org/posts/EPhDMkovGquHtFq3h/an-experiment-eliciting-relative-estimates-for-open">This is</a> a more recent post about AI risk, but it uses distributions instead of point estimates.</p></li>
<li><p>This post proposes some technical solutions to problems introduced to me in Nuño’s post. In particular, it includes principled ways to</p>
<ol type="1">
<li><p>Estimate subjective values,</p></li>
<li><p>Measure consistency in pairwise value judgments,</p></li>
<li><p>Measure agreement between the raters,</p></li>
<li><p>Aggregate subjective values.</p></li>
<li><p>Propose weighted least squares when the raters supply distributions instead of numbers. It is not clear to me it is worth it to ask for distributions in these kinds of questions though, as your uncertainty level can be modelled implicitly by comparing different pairwise comparisons.</p></li>
</ol></li>
<li><p>I use these methods on the <a href="https://github.com/quantified-uncertainty/utility-function-extractor/blob/8ce1a4a8572ec692bc82d39a1bd983216fb0f136/data/">data from Nuño’s post</a>.</p></li>
</ol>
<p>I’m assuming you have read Nuño’s post recently. I think this post will be hard to read if you haven’t.</p>
<p><strong><em>Note:</em></strong> This document is a compiled Quarto file with source functions outside of the main document. The functions can be found in the <a href="https://github.com/JonasMoss/blog/blob/main/posts/value-estimation/">source folder</a> for this post. Also, thanks to Nuño Sempere for his comments on a draft of the post!</p>
<section id="whats-this-about" class="level3">
<h3 class="anchored" data-anchor-id="whats-this-about">What’s this about</h3>
<p><a href="#tbl-gavin-6">Table&nbsp;1</a> contains the first <span class="math inline">\(6\)</span> out of <span class="math inline">\(36\)</span> responses from Gavin Leech. As you can see, he values Superintelligence <span class="math inline">\(100\)</span> more than the <a href="https://globalprioritiesinstitute.org/research-agenda-web-version/">Global Priorities Institute’s Research Agenda</a>.</p>
<div class="cell" data-hash="value-estimation_cache/html/tbl-gavin-6_c389f29b6e2f9bb112c24fdea3d77370">
<details>
<summary>A list of questions in the data set.</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(gavin[, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-gavin-6" class="anchored">
<table class="table table-sm table-striped">
<caption>Table 1: First 6 questions Gavin answered.</caption>
<colgroup>
<col style="width: 43%">
<col style="width: 48%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">source</th>
<th style="text-align: left;">target</th>
<th style="text-align: left;">distance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Thinking Fast and Slow</td>
<td style="text-align: left;">The Global Priorities Institute’s Research Agenda</td>
<td style="text-align: left;">100</td>
</tr>
<tr class="even">
<td style="text-align: left;">The Global Priorities Institute’s Research Agenda</td>
<td style="text-align: left;">The Mathematical Theory of Communication</td>
<td style="text-align: left;">1000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Superintelligence</td>
<td style="text-align: left;">The Mathematical Theory of Communication</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">Categorizing Variants of Goodhart’s Law</td>
<td style="text-align: left;">The Vulnerable World Hypothesis</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Shallow evaluations of longtermist organizations</td>
<td style="text-align: left;">The motivated reasoning critique of effective altruism</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">Shallow evaluations of longtermist organizations</td>
<td style="text-align: left;">Categorizing Variants of Goodhart’s Law</td>
<td style="text-align: left;">100</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>My first goal is to take relative value judgments such these and use them to estimate the true subjective values. In this case, I want to estimate the value that Gavin Leech places on every article in the data set, as contained in <a href="#tbl-questions">Table&nbsp;2</a>.</p>
<div class="cell" data-hash="value-estimation_cache/html/tbl-questions_0df214575ce124f25707fca4e6e5e92b">
<details>
<summary>A list of questions in the data set.</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>levels <span class="ot">&lt;-</span> <span class="fu">levels</span>(<span class="fu">as.factor</span>(<span class="fu">c</span>(gavin<span class="sc">$</span>source, gavin<span class="sc">$</span>target)))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">cbind</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, levels))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-questions" class="anchored">
<table class="table table-sm table-striped">
<caption>Table 2: All <span class="math inline">\(15\)</span> articles valuated in the data set. Question <span class="math inline">\(3\)</span> is fixed to <span class="math inline">\(1\)</span>.</caption>
<colgroup>
<col style="width: 2%">
<col style="width: 97%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">levels</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">A comment on setting up a charity</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">A Model of Patient Spending and Movement Building</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Categorizing Variants of Goodhart’s Law</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Center for Election Science EA Wiki stub</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Database of orgs relevant to longtermist/x-risk work</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">Extinguishing or preventing coal seam fires is a potential cause area</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">Reversals in Psychology</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">Shallow evaluations of longtermist organizations</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">Superintelligence</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">The Global Priorities Institute’s Research Agenda</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">The Mathematical Theory of Communication</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">The motivated reasoning critique of effective altruism</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">The Vulnerable World Hypothesis</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">Thinking Fast and Slow</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">What are some low-information priors that you find practically useful for thinking about the world?</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The article <em>Categorizing Variants of Goodhart’s Law</em> has value fixed to <span class="math inline">\(1\)</span>. I will use the numbering above throughout this post.</p>
</section>
</section>
<section id="a-model-with-multiplicative-error-terms" class="level2">
<h2 class="anchored" data-anchor-id="a-model-with-multiplicative-error-terms">A model with multiplicative error terms</h2>
<section id="motivation-and-setup" class="level3">
<h3 class="anchored" data-anchor-id="motivation-and-setup">Motivation and setup</h3>
<p>Let <span class="math inline">\(\eta_i\)</span> be the true subjective value of item <span class="math inline">\(i\)</span>, counting starting from <span class="math inline">\(1\)</span>. We will let <span class="math inline">\(\eta_3=1\)</span> in our setup, as Manheim and Garabrant’s <a href="https://arxiv.org/abs/1803.04585"><em>Categorizing Variants of Goodhart’s Law</em></a> was fixed to <span class="math inline">\(1\)</span> in Nuño’s study, but we could have fixed any other item if we wanted to. Ideally, we would have observed the “distances” <span class="math inline">\(d_{ij}=\eta_i/\eta_j\)</span> directly, but we don’t. Instead, we observe the distances with noise, <span class="math inline">\(\hat{d}_{ij}\)</span>. We’ll assume a multiplicative model for these noise measurements:</p>
<p><span class="math display">\[
\hat{d}_{ij} = \frac{\eta_i}{\eta_j}\cdot e^{\sigma \epsilon_{ij}},
\]</span> where <span class="math inline">\(e^{\sigma \epsilon_{ij}}\)</span> is a positive noise term with standard deviation <span class="math inline">\(\sigma\)</span> on the log-scale. Now define <span class="math inline">\(Y_{ij} = \log \hat{d}_{ij}\)</span> and <span class="math inline">\(\beta_i = \log \eta_i\)</span>. Observe that <span class="math inline">\(\beta_3 = 0\)</span> by assumption. Now take logarimths on both sides of the equation above to get</p>
<p><span class="math display">\[
Y_{ij} = \beta_i - \beta_j + \sigma\epsilon_{ij},
\]</span></p>
<p>which is a linear regression model. It looks like a <a href="https://en.wikipedia.org/wiki/Two-way_analysis_of_variance">two-way analysis of variance</a>, but isn’t quite that, as we are only dealing with one factor here (the evaluated research) which appears twice in each equation. That said, the only difficulty in estimating this model is to make a model matrix for the regression coefficients. Observe that the residual standard deviation is fixed across items. We’ll take a look at how to reasonably relax this later on.</p>
</section>
<section id="incidence-matrices" class="level3">
<h3 class="anchored" data-anchor-id="incidence-matrices">Incidence matrices</h3>
<p>The questions Gavin answered in the table above can be understood as a directed graph; I’ll call it the <em>question graph</em>. <a href="#fig-graph">Figure&nbsp;1</a> below contains Gavin’s question graph.</p>
<div class="cell" data-hash="value-estimation_cache/html/fig-graph_f6139e4492100c40d1b975b6a4929b82">
<details>
<summary>Plotting question graph for Gavin.</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>levels <span class="ot">&lt;-</span> <span class="fu">levels</span>(<span class="fu">as.factor</span>(<span class="fu">c</span>(gavin<span class="sc">$</span>source, gavin<span class="sc">$</span>target)))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>source <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">factor</span>(gavin<span class="sc">$</span>source, <span class="at">levels =</span> levels))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>target <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">factor</span>(gavin<span class="sc">$</span>target, <span class="at">levels =</span> levels))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">cbind</span>(source, target))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-graph" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="value-estimation_files/figure-html/fig-graph-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure 1: Question graph for Gavin.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Directed graphs can be defined by their <a href="https://en.wikipedia.org/wiki/Incidence_matrix#Undirected_and_directed_graphs">incidence matrices</a>. If <span class="math inline">\(G\)</span> is a directed graph with <span class="math inline">\(k\)</span> nodes and <span class="math inline">\(n\)</span> edges its incidence matrix <span class="math inline">\(B\)</span> is the <span class="math inline">\(n\times k\)</span> matrix with elements <span class="math display">\[B_{ij}=\begin{cases}
-1 &amp; \text{if edge }e_{j}\text{ leaves vertex }v_{i},\\
1 &amp; \text{if edge }e_{j}\text{ enters vertex }v_{i},\\
0 &amp; \text{otherwise.}
\end{cases}\]</span></p>
<p><a href="#tbl-incidence">Table&nbsp;3</a> contains Gavin’s incidence matrix.</p>
<div class="cell" data-hash="value-estimation_cache/html/tbl-incidence_8c24310843db5c07f97ed5c07945e030">
<details>
<summary>Calculation of incidence matrix for Gavin.</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(gavin)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="dv">0</span>, <span class="at">nrow =</span> n, <span class="at">ncol =</span> k)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq</span>(n)) {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  b[i, source[i]] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  b[i, target[i]] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">t</span>(b))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-incidence" class="anchored">
<table class="table table-sm table-striped">
<caption>Table 3: Incidence matrix for Gavin.</caption>
<colgroup>
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Now we can verify that <span class="math display">\[Y = B^T\beta + \sigma \epsilon.\]</span> But there is one more thing to handle: We need to remove the fixed <span class="math inline">\(\beta\)</span>, in our case <span class="math inline">\(\beta_3\)</span>, to estimate the model. Define <span class="math inline">\(B_\star\)</span> and <span class="math inline">\(\beta_\star\)</span> as the incidence matrix and coefficient vector with the fixed item removed. Then <span class="math inline">\(Y = B_\star^T\beta_\star + \sigma \epsilon\)</span> is ready to be estimated using linear regression.</p>
</section>
<section id="example" class="level3">
<h3 class="anchored" data-anchor-id="example">Example</h3>
<p>We fit a linear regression to Gavin’s data. <a href="#tbl-gavin-params">Table&nbsp;4</a> contains the resulting estimates on the log-scale, rounded to the nearest whole number.</p>
<div class="cell" data-hash="value-estimation_cache/html/tbl-gavin-params_ff580e0132f2def4595f5e3c2586dac5">
<details>
<summary>Parameter estimates for Gavin.</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">pairwise_model</span>(gavin, <span class="at">fixed =</span> <span class="dv">3</span>, <span class="at">keep_names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>vals <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">c</span>(<span class="fu">coef</span>(mod)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">q3 =</span> <span class="dv">0</span>, <span class="fu">coef</span>(mod)[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>]))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">t</span>(vals))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-gavin-params" class="anchored">
<table class="table table-sm table-striped">
<caption>Table 4: Parameter estimates for Gavin.</caption>
<thead>
<tr class="header">
<th style="text-align: right;">q1</th>
<th style="text-align: right;">q2</th>
<th style="text-align: right;">q3</th>
<th style="text-align: right;">q4</th>
<th style="text-align: right;">q5</th>
<th style="text-align: right;">q6</th>
<th style="text-align: right;">q7</th>
<th style="text-align: right;">q8</th>
<th style="text-align: right;">q9</th>
<th style="text-align: right;">q10</th>
<th style="text-align: right;">q11</th>
<th style="text-align: right;">q12</th>
<th style="text-align: right;">q13</th>
<th style="text-align: right;">q14</th>
<th style="text-align: right;">q15</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-12</td>
<td style="text-align: right;">-3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-10</td>
<td style="text-align: right;">-8</td>
<td style="text-align: right;">-5</td>
<td style="text-align: right;">-7</td>
<td style="text-align: right;">-4</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">-3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-4</td>
<td style="text-align: right;">-6</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>We can also make confidence intervals for the questions using the <code>confint</code> function. <a href="#fig-gavin-confint">Figure&nbsp;2</a> plots confidence intervals for all the <span class="math inline">\(\beta\)</span>s along with their estimates <span class="math inline">\(\hat{\beta}\)</span>.</p>
<div class="cell" data-hash="value-estimation_cache/html/fig-gavin-confint_2f7ee180f931ae1f2067bc92f76a4fd4">
<details>
<summary>Plot of parametes and error bars.</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>exped <span class="ot">=</span> <span class="fu">exp</span>(<span class="fu">confint</span>(mod))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>confints <span class="ot">=</span> <span class="fu">rbind</span>(exped[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, ], <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>), exped[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>, ])</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(confints) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="fu">coef</span>(mod)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">1</span>, <span class="fu">coef</span>(mod)[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>]), <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">errbar</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">y =</span> <span class="fu">exp</span>(params), <span class="at">yplus =</span> confints[, <span class="dv">2</span>], <span class="at">yminus =</span> confints[, <span class="dv">1</span>],</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">log =</span> <span class="st">"y"</span>, <span class="at">ylab =</span> <span class="st">"Value"</span>, <span class="at">xlab =</span> <span class="st">"Question index"</span>, <span class="at">type =</span> <span class="st">"b"</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">errbar</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">y =</span> <span class="fu">exp</span>(params), <span class="at">yplus =</span> confints[, <span class="dv">2</span>], <span class="at">yminus =</span> confints[, <span class="dv">1</span>],</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-gavin-confint" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="value-estimation_files/figure-html/fig-gavin-confint-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure 2: Plot of parametes and error bars for Gavin.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The <span class="math inline">\(95\%\)</span> confidence intervals are approximately equally wide on the log-scale, with the exception of question 3, which is fixed to <span class="math inline">\(1\)</span>. Let’s take a look at question 11, that of <a href="https://en.wikipedia.org/wiki/A_Mathematical_Theory_of_Communication">Shannon’s A Mathematical Theory of Communication</a>. The confidence interval is <code>(135, 15022)</code> – that’s wide!</p>
</section>
<section id="all-the-raters" class="level3">
<h3 class="anchored" data-anchor-id="all-the-raters">All the raters</h3>
<p>The raters have IDs given in this table.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-8_05bafe3fecdfc548444efdc5a3ed4b5d">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="fu">names</span>(data_list))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">t</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">linch</th>
<th style="text-align: right;">finn</th>
<th style="text-align: right;">gavin</th>
<th style="text-align: right;">jamie</th>
<th style="text-align: right;">misha</th>
<th style="text-align: right;">ozzie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>We fit the model for all the raters and plot the resulting estimates in <a href="#fig-estimates">Figure&nbsp;3</a>. Notice the log-scale.</p>
<div class="cell" data-hash="value-estimation_cache/html/fig-estimates_00571793e186746f191147433261cbb7">
<details>
<summary>Function for plotting results for all raters.</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>parameters <span class="ot">=</span> <span class="fu">sapply</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  data_list,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  \(data) {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    coefs <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">coef</span>(<span class="fu">pairwise_model</span>(data)))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(coefs[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">1</span>, coefs[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>])</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(parameters, <span class="at">log =</span> <span class="st">"y"</span>, <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">ylab =</span> <span class="st">"Values"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-estimates" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="value-estimation_files/figure-html/fig-estimates-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure 3: Plot of parametes estimates for all raters.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>It seems that the raters agree quite a bit.</p>
</section>
</section>
<section id="measuring-agreement" class="level2">
<h2 class="anchored" data-anchor-id="measuring-agreement">Measuring agreement</h2>
<p>One of the easiest and most popular ways to measure agreement among two raters is Lin’s concordance coefficient (aka quadratically weighted Cohen’s kappa). It has an unpublished multirater generalization <span class="math display">\[\frac{1^{T}\Sigma1-\text{tr}\Sigma}{(R-1)\text{tr}\Sigma+R^{2}\left(\overline{\mu^{2}}-\overline{\mu}^{2}\right)}\]</span> Where <span class="math inline">\(\Sigma\)</span> is the covariance matrix of the estimated log rating, <span class="math inline">\(\mu_i\)</span> is the mean log rating by the <span class="math inline">\(i\)</span>th rater, and <span class="math inline">\(R\)</span> is the number of raters. I can explain the reasoning behind this measure in more detail if you want, but it’s the essentially unique extension of Lin’s concordance coefficient to multiple raters, as several generalizations yield the same formula. It’s bounded above by <span class="math inline">\(1\)</span>, which signifies perfect agreement. It’s defined in a way that’s very similar to the <span class="math inline">\(R^2\)</span>, so it’s OK to interpret the numbers as you would have interpreted an <span class="math inline">\(R^2\)</span>.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-10_99a3c2c04d9998191fbe80270f840abb">
<details>
<summary>Calculate concordance of the parameters.</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>concordance <span class="ot">=</span> <span class="cf">function</span>(x) {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">=</span> <span class="fu">nrow</span>(x)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">=</span> <span class="fu">ncol</span>(x)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  sigma <span class="ot">=</span> <span class="fu">cov</span>(x) <span class="sc">*</span> (n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> n</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  mu <span class="ot">=</span> <span class="fu">colMeans</span>(x)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  trace <span class="ot">=</span> <span class="fu">sum</span>(<span class="fu">diag</span>(sigma))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  top <span class="ot">=</span> <span class="fu">sum</span>(sigma) <span class="sc">-</span> trace</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  bottom <span class="ot">=</span> (r <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> trace <span class="sc">+</span> r <span class="sc">^</span> <span class="dv">2</span> <span class="sc">*</span> (<span class="fu">mean</span>(mu<span class="sc">^</span><span class="dv">2</span>) <span class="sc">-</span> <span class="fu">mean</span>(mu)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  top <span class="sc">/</span> bottom</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="fu">concordance</span>(<span class="fu">log</span>(parameters))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.698547</code></pre>
</div>
</div>
<p>I’m impressed by the level of agreement among the raters.</p>
<p>We can also construct a matrix of pairwise agreements.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-11_12fb7e0cbebfffc7c7fd3df199997277">
<details>
<summary>Defines the concordanc matrix using Lin’s coefficient.</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>concordances <span class="ot">&lt;-</span> <span class="fu">outer</span>(<span class="fu">seq</span>(<span class="dv">6</span>), <span class="fu">seq</span>(<span class="dv">6</span>), <span class="fu">Vectorize</span>(\(i,j) <span class="fu">concordance</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="fu">log</span>(parameters)[, i], <span class="fu">log</span>(parameters)[, j]))))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(concordances) <span class="ot">&lt;-</span> <span class="fu">names</span>(x)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(concordances) <span class="ot">&lt;-</span> <span class="fu">names</span>(x)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>concordances</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>          linch      finn     gavin     jamie     misha     ozzie
linch 1.0000000 0.5442018 0.7562977 0.7705449 0.7779404 0.7016672
finn  0.5442018 1.0000000 0.4031429 0.5385316 0.4685602 0.5985986
gavin 0.7562977 0.4031429 1.0000000 0.7237382 0.9106108 0.5996458
jamie 0.7705449 0.5385316 0.7237382 1.0000000 0.8253265 0.8926464
misha 0.7779404 0.4685602 0.9106108 0.8253265 1.0000000 0.7804517
ozzie 0.7016672 0.5985986 0.5996458 0.8926464 0.7804517 1.0000000</code></pre>
</div>
</div>
<p>Now we notice, e.g., that (i) Gavin agrees with Misha, (ii) Finn doesn’t agree much with anyone, (iii) Ozzie agrees with Jamie.</p>
</section>
<section id="identification-of-the-parameters" class="level2">
<h2 class="anchored" data-anchor-id="identification-of-the-parameters">Identification of the parameters</h2>
<p>The parameters <span class="math inline">\(\beta_\star\)</span> are identified if and only if the question graph is connected. This has the practical consequence that the estimation is guaranteed to work whenever you design the question graph <em>well enough</em>. For instance, you do not need to think about avoiding cycles, having only one question per pair, etc.</p>
<p>Now, it should be intuitively clear that <span class="math inline">\(\beta_\star\)</span> cannot be identified when the graph fails to be connected, as there is no point(s) anchoring the scale of every <span class="math inline">\(\beta\)</span>. Think about it this way. Suppose <span class="math inline">\(\beta_{1},\beta_{2},\beta_{4}\)</span> form a connected component disconnected from <span class="math inline">\(\beta_{3}\)</span>. If <span class="math inline">\(\beta_{1},\beta_{2},\beta_{4}\)</span> satisfy <span class="math inline">\(Y=B_{[1,2,4]}^{T}\beta_{[1,2,4]}+\sigma\epsilon\)</span>, where <span class="math inline">\([1,2,3]\)</span> denotes the appropriate indexing, then surely <span class="math inline">\(\gamma_{i}=\beta_{i}+c\)</span> does so too for any <span class="math inline">\(c\)</span>, as every row of <span class="math inline">\(B_\star^{T}\beta\)</span> is a difference <span class="math inline">\(\beta_{i}-\beta_{j}\)</span>, hence <span class="math inline">\(\gamma_{i}-\gamma_{j}=\beta_{i}+c-(\beta_{j}+c)=\beta_{i}-\beta_{j}\)</span>. The other way around is slightly trickier. It’s a theorem of algebraic graph theory that the rank of <span class="math inline">\(B\)</span> equals <span class="math inline">\(k-c\)</span>, where <span class="math inline">\(c\)</span> is the number of connected components. Suppose the graph is connected, so that the rank of <span class="math inline">\(B\)</span> is <span class="math inline">\(k-1\)</span>. Since <span class="math inline">\(B\)</span> does not have full rank (i.e., <span class="math inline">\(k\)</span>), every row can be written as a linear combination of two other rows. In particular, the row associated with the fixed element can be removed without affecting the rank, hence the rank of <span class="math inline">\(B_\star\)</span> is <span class="math inline">\(k-1\)</span> too. But there are <span class="math inline">\(k-1\)</span> rows in <span class="math inline">\(B_\star\)</span>, hence <span class="math inline">\(B_\star\)</span> has full rank. It follows that the parameters are identified.</p>
</section>
<section id="measuring-inconsistency" class="level2">
<h2 class="anchored" data-anchor-id="measuring-inconsistency">Measuring inconsistency</h2>
<p>Recall the multiplicative equation for the reported distance: <span class="math display">\[D_{ij} = \frac{X_i}{X_j}\cdot e^{\sigma \epsilon_{ij}}\]</span> It’s clear that the distance will be noise-free if and only if <span class="math inline">\(\sigma = 0\)</span>. Moreover, the distances will behave more and more erratically the larger <span class="math inline">\(\sigma\)</span> gets. If the distances tend to have erratically, the valuations will be inconsistent. Thus it’s natural to consider inconsistency estimators that are strictly increasing functions of <span class="math inline">\(\sigma\)</span>. We’ll just use <span class="math inline">\(\sigma\)</span> for simplicity’s sake.</p>
<p>The consistencies of our 6 player are</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-12_d6476fb8353488b35dc38016ed5b70d0">
<details>
<summary>Defines the consistencies of all raters.</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>consistencies <span class="ot">=</span> <span class="fu">lapply</span>(data_list, \(data) <span class="fu">summary</span>(<span class="fu">pairwise_model</span>(data))<span class="sc">$</span>sigma)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tibble<span class="sc">::</span><span class="fu">as_tibble</span>(consistencies), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">linch</th>
<th style="text-align: right;">finn</th>
<th style="text-align: right;">gavin</th>
<th style="text-align: right;">jamie</th>
<th style="text-align: right;">misha</th>
<th style="text-align: right;">ozzie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.87</td>
<td style="text-align: right;">1.04</td>
<td style="text-align: right;">2.22</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: right;">0.87</td>
<td style="text-align: right;">0.93</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>All of these are roughly the same, except Gavin’s. That might be surprising since Nuño claimed Gavin is the most consistent of the raters. His inconsistency score is probably unfavourable since he has some serious outliers in his ratings, not because he’s inconsistent across the board. Ratings <span class="math inline">\(33\)</span> and <span class="math inline">\(36\)</span> appear to be especially inconsistent.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-13_27320c0745915eada9d1bc4c1f15a74e">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mod, <span class="at">which =</span> <span class="dv">1</span>, <span class="at">main =</span> <span class="st">"Plot for Gavin"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="value-estimation_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Compared it to the same plot for Jaime Sevilla.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-14_91db77df51d7185d50f1f971212855fc">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">pairwise_model</span>(jamie), <span class="at">which =</span> <span class="dv">1</span>, <span class="at">main =</span> <span class="st">"Plot for Jaime"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="value-estimation_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Let’s see what happens if we remove the observations <span class="math inline">\(31, 33, 34, 36\)</span> from Gavin’s data then.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-15_ac68e75f24a49ba18e79e668903b796b">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>gavin_ <span class="ot">&lt;-</span> gavin[<span class="fu">setdiff</span>(<span class="fu">seq</span>(<span class="fu">nrow</span>(gavin)), <span class="fu">c</span>(<span class="dv">31</span>, <span class="dv">33</span>, <span class="dv">34</span>, <span class="dv">36</span>)), ]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">pairwise_model</span>(gavin_), <span class="at">which =</span> <span class="dv">1</span>, <span class="at">main =</span> <span class="st">"Plot for Gavin with outliers removed"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="value-estimation_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The residual plot looks better now, and the inconsistency score becomes <span class="math inline">\(\sigma \approx 0.87\)</span>, in line with the other participants.</p>
<p>My take-away is that it would be beneficial to use robust linear regressions when estimating <span class="math inline">\(\beta\)</span>. I’m not prioritizing studying this right now, but if someone were to invest serious amount of time in studying and applying statistical methods for this problem, I would strongly suggest taking a look at e.g.&nbsp;<code>rlm</code>.</p>
<section id="you-shouldnt-strive-for-consistency" class="level3">
<h3 class="anchored" data-anchor-id="you-shouldnt-strive-for-consistency">You shouldn’t strive for consistency</h3>
<p>Striving for consistency requires you to follow a method. For instance, you can write down or try hard to remember what you have answered on previous questions, then use the right formula to deduce a consistent answer. I would advice against doing this though. When you compare two items against each other, just follow the priming of the shown items and let the statistical method do its work! If you’re trying hard to be consistent you’ll probably introduce some sort of bias, as you’ll essentially make the ratings dependent on their ordering. Also see <a href="https://en.wikipedia.org/wiki/Wisdom_of_the_crowd#Analogues_with_individual_cognition:_the_%22crowd_within%22">the crowd within</a>. The value-elicitation framework is similar to psychometrics, where you want every measurement to be as independent of every other measurement as possible when you condition on the latent variables.</p>
<p>I also see little reason to use algorithms that prohibits cyclical comparisons, as there is no statistical reason to avoid them. (Only a psychological one, if you feel like you have to be consistent.) It’s also fine the ask the same question more than once – at least if you add some addition correlation term into the model. And have some time distance between the questions.</p>
</section>
</section>
<section id="aggregation" class="level2">
<h2 class="anchored" data-anchor-id="aggregation">Aggregation</h2>
<p>We estimate <span class="math inline">\(\beta\)</span> using a mixed effect model. <span class="math display">\[\begin{eqnarray*}
Y_{j} &amp; = &amp; D_{j}^{T}\beta_{j}+\sigma\epsilon,\\
\beta_{j} &amp; \sim &amp; N(\beta,\Sigma).
\end{eqnarray*}\]</span></p>
<p>Conceptually, this model implies that there is a true underlying <span class="math inline">\(\beta\)</span> for each question, but the raters only have incomplete access to it when they form their subjective valuation. So we have two sources of noise: First, the raters have a latent, noisy and subjective estimate of <span class="math inline">\(\beta\)</span>, which we call <span class="math inline">\(\beta_j\)</span>. Second, we only observe noisy measurements of <span class="math inline">\(\beta_j\)</span>s through our pairwise comparisons model. The matrix <span class="math inline">\(\Sigma\)</span> can be constrained to be diagonal, which makes estimation go faster.</p>
<p>Using <code>lme4</code>, I made a function <code>pairwise_mixed_model</code> that fits a mixed effects model to the data without an intercept. Check out the source if you want to know exactly what I’ve done.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-16_480885219afb68bfd437a3b1ab6319e6">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">pairwise_mixed_model</span>(data_list, <span class="at">fixed =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>boundary (singular) fit: see help('isSingular')</code></pre>
</div>
</div>
<p>Using the <code>mod</code> object, we can plot (<a href="#fig-conf-uncorrelated">Figure&nbsp;4</a>) confidence intervals and estimates for the aggregate ratings.</p>
<div class="cell" data-hash="value-estimation_cache/html/fig-conf-uncorrelated_663f8da79edf0de2d6fdb0bde15c3fa2">
<details>
<summary>Defines confidence intervals and estimates used for plotting.</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>conf <span class="ot">&lt;-</span> <span class="fu">confint</span>(mod, <span class="at">method =</span> <span class="st">"Wald"</span>)[<span class="dv">16</span><span class="sc">:</span><span class="dv">29</span>, ]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">c</span>(lme4<span class="sc">::</span><span class="fu">fixef</span>(mod)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">0</span>, lme4<span class="sc">::</span><span class="fu">fixef</span>(mod)[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>])</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>exped <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">exp</span>(conf)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, ], <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="fu">exp</span>(conf)[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>, ])</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">errbar</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">y =</span> <span class="fu">exp</span>(params), <span class="at">yplus =</span> exped[, <span class="dv">2</span>], <span class="at">yminus =</span> exped[, <span class="dv">1</span>],</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">log =</span> <span class="st">"y"</span>, <span class="at">ylab =</span> <span class="st">"Value"</span>, <span class="at">xlab =</span> <span class="st">"Question index"</span>, <span class="at">type =</span> <span class="st">"b"</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">errbar</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">y =</span> <span class="fu">exp</span>(params), <span class="at">yplus =</span> exped[, <span class="dv">2</span>], <span class="at">yminus =</span> exped[, <span class="dv">1</span>],</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-conf-uncorrelated" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="value-estimation_files/figure-html/fig-conf-uncorrelated-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure 4: Confidence bars mixed effects model with uncorrelated random effects.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The confidence intervals in the plot are reasonably sized, but remember the <span class="math inline">\(y\)</span>-axis is on the log-scale. Let’s take a look at the confidence interval for <em>A Mathematical Theory of Communication</em> again:</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-18_2c94d3f5eaa39aa8a3bacae67e774734">
<details>
<summary>Confidence interval for Mathematical Theory of Communication with uncorrelated random effects.</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">exp</span>(<span class="fu">confint</span>(mod, <span class="at">method =</span> <span class="st">"Wald"</span>)[<span class="dv">16</span><span class="sc">:</span><span class="dv">29</span>, ])[<span class="dv">10</span>, ])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> 2.5 % 97.5 % 
    44  10740 </code></pre>
</div>
</div>
<p>The uncertainty of the aggregate value is smaller than that of Gavin’s subjective value. But the uncertainty is still very, very large. I think the level of uncertainty is wrong though. Fixing it would probably require a modification of the model to allow for items of different difficulty, or maybe a non-multiplicative error structure. But there is also a counterfactual aspect here. It’s hard to say how quickly someone else would’ve invented information theory weren’t it for <em>A Mathematical Theory</em>. Different “concepts” about counterfactuals could potentially lead to different true <span class="math inline">\(\beta\)</span>s, as some readers consider them and some don’t. (See <a href="https://forum.effectivealtruism.org/posts/hrdxf5qdKmCZNWTvs/valuing-research-works-by-eliciting-comparisons-from-ea">Linch’s comment</a>)</p>
<section id="using-correlated-random-effects" class="level3">
<h3 class="anchored" data-anchor-id="using-correlated-random-effects">Using correlated random effects</h3>
<p>We can run a model with correlated random effects too.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-19_07f9dda6ffb5b55d827bd5dd638a1dd2">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">pairwise_mixed_model</span>(data_list, <span class="at">fixed =</span> <span class="dv">3</span>, <span class="at">uncorrelated =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>boundary (singular) fit: see help('isSingular')</code></pre>
</div>
</div>
<p>The corresponding plot (<a href="#fig-conf-correlated">Figure&nbsp;5</a>) is similar but not indistinguishable from <a href="#fig-conf-uncorrelated">Figure&nbsp;4</a>. The confidence intervals appear to smaller, but I don’t know if this is an estimation artifact or not. I also don’t know which model is better. Or if it will ever matter in practice which you use, but the uncorrelated model is faster to fit, as the correlated takes a couple of seconds. And that might matter in a production setting.</p>
<div class="cell" data-hash="value-estimation_cache/html/fig-conf-correlated_3f88a2b26f557ba9907135927d989965">
<details>
<summary>Defines confidence intervals and estimates used for plotting.</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>conf <span class="ot">&lt;-</span> <span class="fu">confint</span>(mod, <span class="at">method =</span> <span class="st">"Wald"</span>)[(<span class="dv">120</span> <span class="sc">-</span> <span class="dv">13</span>)<span class="sc">:</span><span class="dv">120</span>, ]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">c</span>(lme4<span class="sc">::</span><span class="fu">fixef</span>(mod)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">0</span>, lme4<span class="sc">::</span><span class="fu">fixef</span>(mod)[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>])</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>exped <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">exp</span>(conf)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, ], <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="fu">exp</span>(conf)[<span class="dv">3</span><span class="sc">:</span><span class="dv">14</span>, ])</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">errbar</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">y =</span> <span class="fu">exp</span>(params), <span class="at">yplus =</span> exped[, <span class="dv">2</span>], <span class="at">yminus =</span> exped[, <span class="dv">1</span>],</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">log =</span> <span class="st">"y"</span>, <span class="at">ylab =</span> <span class="st">"Value"</span>, <span class="at">xlab =</span> <span class="st">"Question index"</span>, <span class="at">type =</span> <span class="st">"b"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">errbar</span>(<span class="at">x =</span>  <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">y =</span> <span class="fu">exp</span>(params), <span class="at">yplus =</span> exped[, <span class="dv">2</span>], <span class="at">yminus =</span> exped[, <span class="dv">1</span>],</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-conf-correlated" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="value-estimation_files/figure-html/fig-conf-correlated-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure 5: Confidence bars mixed effects model with correlated random effects.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The resulting confidence interval for <em>A Mathematical Theory of Communication</em> gets smaller now.</p>
<div class="cell" data-hash="value-estimation_cache/html/unnamed-chunk-21_4ac1c78e6876bc3d42771707856b58c4">
<details>
<summary>Confidence interval for Mathematical Theory of Communication with correlated random effects.</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">exp</span>(<span class="fu">confint</span>(mod, <span class="at">method =</span> <span class="st">"Wald"</span>)[<span class="dv">116</span>, ]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> 2.5 % 97.5 % 
    68   9602 </code></pre>
</div>
</div>
</section>
</section>
<section id="incorporating-uncertainty" class="level2">
<h2 class="anchored" data-anchor-id="incorporating-uncertainty">Incorporating uncertainty</h2>
<p>Instead of rating the ratio <span class="math inline">\(\eta_i/\eta_j\)</span> with a number, you might want give a distribution over <span class="math inline">\(\eta_i/\eta_j\)</span>, indicating your uncertainty, as done in e.g.&nbsp;<a href="https://forum.effectivealtruism.org/posts/EPhDMkovGquHtFq3h/an-experiment-eliciting-relative-estimates-for-open">this post</a>. How could we work with such uncertain measurements? One possibility is to extract a log-mean and log-standard deviation from the distributions and then use the same method as I’ve described, but with weighted least squares instead of least squares. The weights will be <span class="math inline">\(1/\sigma_{ij}\)</span>, where <span class="math inline">\(\sigma_{ij}\)</span> are the log-standard deviations of the distributions.</p>
<p>The formal reasoning behind this proposal goes as follows. If <span class="math inline">\(\eta_i/\eta_j\)</span> is log-normal with some log-mean <span class="math inline">\(\mu_{ij}\)</span> and standard deviation <span class="math inline">\(\sigma_{ij}\)</span>, its logarithm is normal with mean <span class="math inline">\(\mu_{ij}\)</span> and standard deviation <span class="math inline">\(\sigma_{ij}\)</span>. This model implies that</p>
<p><span class="math display">\[
\frac{\eta_i}{\eta_j} = e^{\mu_{ij}}e^{\sigma_{ij}\cdot\epsilon_{ij}},
\]</span></p>
<p>for some normally distributed <span class="math inline">\(\epsilon_{ij}\)</span>. Taking logarithms on both sides, we obtain</p>
<p><span class="math display">\[
\beta_i - \beta_j = \mu_{ij} + \sigma_{ij}\epsilon_{ij}.
\]</span></p>
<p>Since <span class="math inline">\(\epsilon_{ij}\)</span> is symmetric around <span class="math inline">\(0\)</span>, we have <span class="math inline">\(\mu_{ij} = \beta_i - \beta_j + \sigma_{ij}\epsilon_{ij}\)</span>. If we add the “safety measure constant” <span class="math inline">\(\psi\)</span>, with</p>
<p><span id="eq-modelsigma_ij"><span class="math display">\[\mu_{ij} = \beta_i - \beta_j  + \psi\sigma_{ij}\epsilon_{ij}, \tag{1}\]</span></span> this is a <a href="https://en.wikipedia.org/wiki/Weighted_least_squares">weighted least squares problem</a>, with weights equal to <span class="math inline">\(1/\sigma_{ij}\)</span> and residual standard deviation <span class="math inline">\(\psi\)</span>. It’s not clear to me if distributions are worth it.</p>
<p>In the summary I wrote that it’s not clear to me that it’s worth it to ask for distributions in pairwise comparisons, as your uncertainty level can be modeled implicitly by comparing different pairwise comparisons. What does this mean? Let’s simplify the model in <a href="#eq-modelsigma_ij">Equation&nbsp;1</a> so it contains two error terms, <span class="math inline">\(\sigma_i\)</span> and <span class="math inline">\(\sigma_j\)</span>, one belonging to each question.</p>
<p><span id="eq-modelsigma_isigma_j"><span class="math display">\[\mu_{ij} = \beta_i - \beta_j + \sigma_{i}\epsilon_{i}+\sigma_{j}\epsilon_{j}. \tag{2}\]</span></span></p>
<p>This models allows you to have different uncertainties for different items, but doesn’t allow for idiosyncratic errors depending on interactions between the <span class="math inline">\(i\)</span>th and <span class="math inline">\(j\)</span>th items. Estimation of the model in <a href="#eq-modelsigma_isigma_j">Equation&nbsp;2</a> easy to do efficiently, but I haven’t looked at the details. An idea would be to use the equation <span class="math inline">\(\operatorname{Var}(\mu_{ij})=\sigma_{i}^{2}+\sigma_{j}^{2}\)</span> and iteratively refit weighted least squares models.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>